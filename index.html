<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Tribute & Journey ‚Äî Prof. Prafulla Kalapatapu</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins&display=swap" rel="stylesheet">
  <style>
    /* ==== GLOBAL STYLES & THEME ==== */
    :root {
      --primary-accent: #00ffff;
      --secondary-accent: #9400d3;
      --muted: #9aa4b2;
      --bg-start: #0a0e1a;
      --bg-end: #000;
      --glow-primary: 0 0 20px rgba(0, 255, 255, 0.7);
      --glow-secondary: 0 0 20px rgba(148, 0, 211, 0.5);
    }

    *{ box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Poppins", "Inter", sans-serif;
      background: var(--bg-start);
      color: #e5e5e5;
      text-align: center;
      overflow-x: hidden;
      opacity: 0;
      transition: opacity 1.5s ease-in;
    }
    body.loaded { opacity: 1; }
    canvas#neural-network {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }
    .highlight-glow {
            box-shadow: 0 0 25px var(--secondary-accent), 0 0 15px var(--primary-accent);
            border-color: var(--primary-accent) !important;
            transform: translateY(-2px) scale(1.02);
        }
    h1, h2 {
      margin: 20px 0;
      color: var(--primary-accent);
      text-shadow: var(--glow-primary);
      animation: fadeInUp 0.8s ease-out;
    }
    h3 { color: #fff; }

    /* ==== SHARED COMPONENTS & EFFECTS ==== */
    .glass-card {
        background: rgba(12, 16, 34, 0.4);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(0, 255, 255, 0.15);
        border-radius: 16px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }
    .glass-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 40px rgba(0, 0, 0, 0.4);
        border-color: rgba(0, 255, 255, 0.4);
    }
    button {
      background: transparent;
      color: var(--primary-accent);
      border: 2px solid var(--primary-accent);
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
      text-shadow: 0 0 10px var(--primary-accent);
      box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.3), 0 0 10px rgba(0, 255, 255, 0.3);
    }
    button:hover {
      background: var(--primary-accent);
      color: #000;
      box-shadow: var(--glow-primary);
    }
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* ==== HERO SECTION ==== */
    .prof-pic {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 4px solid var(--primary-accent);
      box-shadow: var(--glow-primary), 0 0 35px rgba(0,255,255,0.4);
      object-fit: cover;
      margin-top: 15px;
      animation: fadeInUp 0.8s ease-out 0.2s backwards;
    }
    .quotes {
      margin-top: 60px;
      padding: 30px;
      border-top: 1px solid rgba(0, 255, 255, 0.2);
      border-bottom: 1px solid rgba(0, 255, 255, 0.2);
      background: linear-gradient(rgba(148, 0, 211, 0.05), rgba(0, 255, 255, 0.05));
    }
    .quote {
      font-size: 1.2rem;
      color: #e0ffff;
      font-style: italic;
      min-height: 60px;
      transition: opacity 0.7s ease-in-out;
      text-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
    }

    /* ==== CHAT BOT ==== */
    .chat-box {
      width: 90%;
      max-width: 600px;
      margin: 40px auto;
      text-align: left;
      padding: 25px;
    }
    #messages { height: 150px; overflow-y: auto; margin-bottom: 15px; padding-right: 10px; }
    .msg { margin: 10px 0; line-height: 1.5; opacity: 0; animation: fadeInUp 0.5s forwards; }
    .user { color: var(--primary-accent); font-weight: 600; }
    .bot { color: #fff; }
    .input-area { display: flex; gap: 10px; }
    input[type="text"] {
      flex-grow: 1;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid rgba(0, 255, 255, 0.2);
      outline: none;
      background: rgba(0,0,0,0.3);
      color: #fff;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    input[type="text"]:focus {
      border-color: var(--primary-accent);
      box-shadow: var(--glow-primary);
    }
    .typing-indicator span {
        display: inline-block;
        width: 8px; height: 8px; border-radius: 50%; background: var(--muted);
        animation: pulse 1.4s infinite ease-in-out both;
    }
    .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
    .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
    @keyframes pulse {
        0%, 80%, 100% { transform: scale(0); }
        40% { transform: scale(1.0); }
    }

    /* ==== LEGENDS GRID ==== */
    .legends {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      width: 90%;
      margin: 40px auto 0;
    }
    .legend-card { padding: 25px; }
    .legend-card:hover { border-color: var(--secondary-accent); }
    .legend-img {
      width: 130px; height: 130px; border-radius: 50%;
      border: 3px solid var(--primary-accent);
      object-fit: cover; margin-top: 10px;
      box-shadow: var(--glow-primary);
      transition: transform 0.4s ease;
    }
    .legend-card:hover .legend-img { transform: scale(1.05); }
    .legend-name { font-size: 1.3rem; margin: 15px 0 5px; color: var(--primary-accent); }
    .legend-title { font-size: 0.9rem; color: #ccc; }
    .award {
      background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));
      color: #000; border-radius: 20px; padding: 6px 12px;
      display: inline-block; font-weight: bold; margin-top: 15px;
      box-shadow: 0 0 15px rgba(148, 0, 211, 0.5);
    }

    /* ==== TIMELINE SECTION ==== */
    .wrap { max-width: 1100px; margin: 50px auto; padding: 24px; text-align: left; }
    .timeline { position: relative; padding-left: 45px; transition: all 450ms ease; }
    .timeline:before {
      content: ''; position: absolute; left: 20px; top: 0; bottom: 0; width: 4px;
      background: linear-gradient(180deg, var(--primary-accent) 0%, var(--secondary-accent) 100%);
      border-radius: 4px;
      box-shadow: var(--glow-primary);
    }
    .milestone {
      position: relative; margin: 30px 0; padding: 20px;
      opacity: 0; transform: translateX(24px);
      transition: all 700ms cubic-bezier(.2,.9,.2,1);
    }
    .milestone.visible { opacity: 1; transform: translateX(0); }
    .milestone .dot {
      position: absolute; left: -40px; top: 22px; width: 40px; height: 40px; border-radius: 50%;
      background: linear-gradient(180deg, var(--primary-accent), #45c4ff);
      display: flex; align-items: center; justify-content: center; color: #002734; font-weight: 700;
      border: 3px solid var(--bg-start);
      box-shadow: 0 0 15px var(--primary-accent);
    }
    .milestone h3 { margin: 0 0 6px 0; color: #dffcff; }
    .milestone .meta { font-size: 0.85rem; color: var(--muted); margin-bottom: 8px; }
    .milestone .content { color: #cfefff; line-height: 1.5; }

    /* Horizontal Timeline specific styles */
    .timeline.horizontal {
        display: flex; overflow-x: auto; padding-left: 8px; gap: 18px;
        scrollbar-width: thin; scrollbar-color: var(--primary-accent) var(--bg-start);
    }
    .timeline.horizontal::-webkit-scrollbar { height: 8px; }
    .timeline.horizontal::-webkit-scrollbar-track { background: var(--bg-start); }
    .timeline.horizontal::-webkit-scrollbar-thumb { background-color: var(--primary-accent); border-radius: 10px; border: 2px solid var(--bg-start); }
    .timeline.horizontal:before { display: none; }
    .timeline.horizontal .milestone {
        min-width: 320px; flex: 0 0 auto; opacity: 1; transform: none; margin: 20px 0;
    }
     .timeline.horizontal .milestone .dot { display: none; }


    /* ==== CONTROLS & DETAILS ==== */
    .controls { display: flex; gap: 12px; margin-top: 20px; margin-bottom: 20px; }
    .details { margin-top: 34px; padding: 25px; }
    .chips { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
    .chip {
      background: rgba(0, 229, 255, 0.1);
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(0, 229, 255, 0.2);
      color: var(--primary-accent);
      font-weight: 600;
      font-size: 0.9rem;
      transition: background 0.3s, color 0.3s;
    }
    .chip:hover { background: var(--primary-accent); color: #000; }
    #pubs li { margin-bottom: 8px; }

    footer {
      margin-top: 60px;
      padding: 30px;
      font-size: 0.9rem;
      opacity: 0.7;
      text-align: center;
      border-top: 1px solid rgba(255,255,255,0.1);
    }
  </style>
</head>
<body>

  <canvas id="neural-network"></canvas>

  <h1>üéÇ Happy Birthday, Professor!</h1>
  <img src="professor.jpg" class="prof-pic" alt="Professor">
  <h2>Celebrating an Inspiring AI Mind ü§ñ</h2>

  <div class="chat-box glass-card">
    <h3>üí¨ Chat with ProfBot</h3>
    <div id="messages"></div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Ask about AI..." onkeypress="if(event.key==='Enter') sendMsg()">
      <button onclick="sendMsg()">Send</button>
    </div>
  </div>

  <h1>üåü AI Hall of Fame</h1>
  <p class="subtitle">Celebrating the Minds Who Shaped Artificial Intelligence</p>
  <section class="legends">
    <div class="legend-card glass-card">
      <img src="https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg" class="legend-img" alt="Alan Turing">
      <div class="legend-name">Alan Turing</div>
      <div class="legend-title">The Father of Computer Science</div>
      <div class="award">üèÜ AI Visionary</div>
    </div>
    <div class="legend-card glass-card">
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/8a/Yann_LeCun.jpg" class="legend-img" alt="Yann LeCun">
      <div class="legend-name">Yann LeCun</div>
      <div class="legend-title">Pioneer of Deep Learning</div>
      <div class="award">üèÜ Neural Network Innovator</div>
    </div>
    <div class="legend-card glass-card">
      <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Fei-Fei_Li_Stanford.jpg" class="legend-img" alt="Fei-Fei Li">
      <div class="legend-name">Fei-Fei Li</div>
      <div class="legend-title">Computer Vision Leader</div>
      <div class="award">üèÜ AI Ethics Advocate</div>
    </div>
    <div class="legend-card glass-card">
      <img src="professor.jpg" class="legend-img" alt="Professor">
      <div class="legend-name">Prof. Prafulla Kalapatapu</div>
      <div class="legend-title">Most Inspiring AI Mentor</div>
      <div class="award">üèÖ "AI Educator of the Year 2025"</div>
    </div>
  </section>

  <section class="quotes">
    <div class="quote" id="quoteBox">
      ‚ÄúAI is not just about machines learning ‚Äî it‚Äôs about humans learning how to think differently.‚Äù
    </div>
  </section>

  <div class="wrap">
    <div class="controls">
      <button id="toggleView">Toggle View</button>
      <button id="downloadPNG">Download Snapshot (PNG)</button>
    </div>
    <main>
      <section class="timeline" id="timeline"></section>
      <section class="details glass-card" id="details">
        <h3>Profile & Research</h3>
        <p id="bioText">Prof. Prafulla is an astute professional with zeal to excel in teaching and research. Over 20+ years of experience across BITS, Mahindra University and other leading institutions. Research interests include Machine Learning, Computer Vision, Heritage Conservation and Structural Health Monitoring.</p>
        <div class="chips" id="chips"></div>
        <h4 style="margin-top:20px;color:var(--muted)">Selected Publications</h4>
        <ul id="pubs" style="list-style-type: none; padding-left: 0; margin:8px 0 0 0;color:#cfefff"></ul>
      </section>
    </main>
  </div>

  <footer>Created with ‚ù§Ô∏è by your student | Powered by AI | 2025</footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add('loaded');
        // Proactive greeting from ProfBot
        setTimeout(initiateBotGreeting, 1500);
    });

    /* ==== QUOTES ==== */
    const quotes = [
      "‚ÄúThe question of whether a computer can think is like asking whether a submarine can swim.‚Äù ‚Äì Edsger Dijkstra",
      "‚ÄúAI is not about machines replacing humans ‚Äî it‚Äôs about humans augmenting intelligence.‚Äù",
      "‚ÄúWe must ensure AI benefits humanity as a whole, not just a few.‚Äù ‚Äì Fei-Fei Li",
      "‚ÄúThe best way to predict the future is to invent it.‚Äù ‚Äì Alan Kay",
      "‚ÄúAI won‚Äôt replace teachers ‚Äî but teachers who use AI will replace those who don‚Äôt.‚Äù",
      "‚ÄúThe future belongs to those who teach machines ‚Äî and inspire minds.‚Äù",
      "‚ÄúEvery neuron counts, both in your brain and your network!‚Äù",
      "‚ÄúStay curious, stay optimized.‚Äù",
      "‚ÄúHappy Birthday to the one who taught us to debug life with logic! üéÇü§ñ‚Äù"
    ];
    let quoteIdx = 0;
    setInterval(() => {
      const box = document.getElementById("quoteBox");
      box.style.opacity = 0;
      setTimeout(() => {
        quoteIdx = (quoteIdx + 1) % quotes.length;
        box.innerHTML = quotes[quoteIdx];
        box.style.opacity = 1;
      }, 700);
    }, 4000);

    /* ==== (NEW) SUPER-COOL INTERACTIVE CHATBOT ==== */
    const messagesEl = document.getElementById('messages');
    const userInput = document.getElementById('userInput');
    let botIsTyping = false;

    // Function to add a message to the chat
    function addMessage(className, html) {
        const msgDiv = document.createElement('div');
        msgDiv.className = `msg ${className}`;
        msgDiv.innerHTML = html;
        messagesEl.appendChild(msgDiv);
        messagesEl.scrollTop = messagesEl.scrollHeight;
        return msgDiv;
    }

    // New function to simulate typing effect
    function typeResponse(botMsgDiv, text) {
        let i = 0;
        const speed = 30; // Speed of typing in milliseconds
        botIsTyping = true;
        userInput.disabled = true;

        function typing() {
            if (i < text.length) {
                // Handle HTML tags like <pre> without typing them
                if (text.charAt(i) === '<') {
                    const closingTagIndex = text.indexOf('>', i);
                    botMsgDiv.innerHTML += text.substring(i, closingTagIndex + 1);
                    i = closingTagIndex;
                } else {
                    botMsgDiv.innerHTML += text.charAt(i);
                }
                i++;
                messagesEl.scrollTop = messagesEl.scrollHeight;
                setTimeout(typing, speed);
            } else {
                botIsTyping = false;
                userInput.disabled = false;
                userInput.focus();
            }
        }
        typing();
    }
    
    // Function to highlight an element on the page
    function highlightElement(selector) {
        const el = document.querySelector(selector);
        if (el) {
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            el.classList.add('highlight-glow');
            setTimeout(() => {
                el.classList.remove('highlight-glow');
            }, 3000); // Glow lasts for 3 seconds
        }
    }

    const profBotKnowledge = {
        'default': "That's a fascinating question. My expertise is centered on Professor Prafulla's journey and core AI principles. Could you ask me something about her career or a specific AI topic?",
        'greeting': {
            keywords: ['hello', 'hi', 'hey'],
            response: "Hello there! I'm ProfBot. Ask me about Professor Prafulla's career, research, or any general AI concepts."
        },
        'birthday': {
            keywords: ['birthday', 'happy'],
            response: "Thank you! Celebrating a great mentor is the most logical and wonderful occasion. The best gift is always more data... I mean, knowledge! üéÇ"
        },
        'research': {
            keywords: ['research', 'interests', 'focus', 'work'],
            response: "Professor Prafulla's research is fascinating! She focuses on Machine Learning, Computer Vision, and their applications in areas like Heritage Conservation and Structural Health Monitoring. A brilliant blend of the old and the new.",
            elementId: 'details'
        },
        'mahindra': {
            keywords: ['mahindra'],
            response: "He joined Mahindra University in 2017, where she has been an Assistant Professor and was instrumental in co-founding the Center for Sustainable Infrastructure and Systems (CSIS).",
            milestoneId: 'mahindra'
        },
        'bits pilani': {
            keywords: ['bits', 'pilani'],
            response: "She had a significant tenure at BITS Pilani, Hyderabad Campus, from 2010 to 2017 as a Lecturer. She was heavily involved in developing labs and mentoring numerous student research projects.",
            milestoneId: 'bits'
        },
        'deep learning': {
            keywords: ['deep learning'],
            response: "Ah, Deep Learning! It uses multi-layered neural networks to learn from vast amounts of data, much like a human brain. It's the powerhouse behind many AI breakthroughs. üß†"
        },
        'publications': {
            keywords: ['publications', 'papers'],
            response: "She has published over 20 articles, with notable works in Springer and IEEE proceedings on topics like digital heritage and structural health monitoring. I can highlight the section for you.",
            elementId: 'pubs'
        },
        'cool': {
            keywords: ['cool', 'trick', 'generate', 'network'],
            response: "Certainly! Here's a simple ASCII representation of a neural network's forward pass:<pre style='font-family: monospace; font-size: 12px; color: var(--primary-accent);'>\n  Input(O) --w1--> Hidden(H1) --w3--> Output(O)\n      \\\n       --w2--> Hidden(H2) --w4---^\n</pre>Each connection learns and adapts. It's the core of intelligence!"
        },
    };

    function getBotResponse(userInput) {
        const text = userInput.toLowerCase();
        for (const key in profBotKnowledge) {
            if (key !== 'default') {
                for (const keyword of profBotKnowledge[key].keywords) {
                    if (text.includes(keyword)) {
                        return profBotKnowledge[key];
                    }
                }
            }
        }
        return { response: profBotKnowledge.default };
    }

    function sendMsg() {
        if (botIsTyping) return;
        const text = userInput.value.trim();
        if (!text) return;

        addMessage('user', `üßë‚Äçüéì You: ${text}`);
        userInput.value = '';

        setTimeout(() => {
            const botResponseData = getBotResponse(text);
            const botMsgDiv = addMessage('bot', 'ü§ñ ProfBot: ');
            typeResponse(botMsgDiv, botResponseData.response);

            if (botResponseData.elementId) {
                highlightElement(`#${botResponseData.elementId}`);
            } else if (botResponseData.milestoneId) {
                highlightElement(`[data-milestone="${botResponseData.milestoneId}"]`);
            }
        }, 800);
    }
    
    function initiateBotGreeting() {
        const greetText = "Greetings! I'm ProfBot, an AI tribute to Professor Prafulla. You can ask me about her journey, research, or AI concepts! Try asking 'What is her research focus?'.";
        const botMsgDiv = addMessage('bot', 'ü§ñ ProfBot: ');
        typeResponse(botMsgDiv, greetText);
    }


    /* ==== TIMELINE DATA & RENDERING (MODIFIED) ==== */
    const timelineData = [
       {id: 'tcs', date:'2002 Apr - 2003 Jun', title:'Software Trainee Programmer ‚Äî TCS (IDM)', content:'Started career at Tata Consultancy Services.', tag:'Industry'},
       {id: 'vignan', date:'2003 Jun - 2007 Jun', title:"Assistant Professor ‚Äî Vignan's Engg College", content:'Early teaching experience.', tag:'Academia'},
       {id: 'oxford', date:'2007 Jul - 2009 Jun', title:'Assistant Professor ‚Äî The Oxford Engineering College', content:'Teaching & course development.', tag:'Academia'},
       {id: 'cbit', date:'2009 Jun - 2010 Apr', title:'Assistant Professor ‚Äî CBIT Hyderabad', content:'Guided UG/PG projects.', tag:'Academia'},
       {id: 'bits', date:'2010 Apr - 2017 Jul', title:'Lecturer ‚Äî BITS Pilani, Hyderabad Campus', content:"Seven years developing labs & guiding research projects.", tag:'Academia'},
       {id: 'mahindra', date:'2017 - Present', title:'Assistant Professor ‚Äî Mahindra University', content:'Joined Mahindra University, co-founded CSIS.', tag:'Academia'},
       {id: 'leadership', date:'2018', title:'Co-chaired NIKETH-2018 / Organized ICMLDS & ICETCI', content:'Organized multiple conferences.', tag:'Leadership'},
       {id: 'research', date:'2020-2021', title:'Digital Heritage & Structural Health Monitoring Publications', content:'Published 20+ articles.', tag:'Research'},
       {id: 'publications', date:'2021', title:'Selected Springer / IEEE Publications', content:'EuroMed Digital Heritage and EWSHM proceedings.', tag:'Publications'},
       {id: 'education', date:'Education', title:'Education', content:'Ph.D. ‚Äî BITS Pilani; M.Tech ‚Äî Satyabhama University; B.Tech ‚Äî JNTU Hyderabad', tag:'Education'}
    ];
    const timeline = document.getElementById('timeline');
    let io = null;
    function renderTimeline(data) {
      timeline.innerHTML = '';
      data.forEach((it, idx) => {
        const el = document.createElement('article');
        el.className = 'milestone glass-card';
        el.setAttribute('data-milestone', it.id); // <-- IMPORTANT: Added data-milestone attribute
        el.innerHTML = `
          <div class="dot">${idx+1}</div>
          <h3>${it.title}</h3>
          <div class="meta">${it.date} ‚Ä¢ ${it.tag||''}</div>
          <div class="content">${it.content}</div>`;
        timeline.appendChild(el);
      });
      if (!timeline.classList.contains('horizontal')) initObserver();
      else makeAllVisible();
    }

    // (The rest of the JS code for timeline, chips, controls, and canvas background remains exactly the same as the previous version)

    function initObserver() {
      if (io) { io.disconnect(); io = null; }
      const items = document.querySelectorAll('.milestone');
      io = new IntersectionObserver((entries) => {
        entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
      }, { threshold: 0.15 });
      items.forEach(i => io.observe(i));
    }
    function makeAllVisible() {
      document.querySelectorAll('.milestone').forEach(m => { m.classList.add('visible'); });
      if (io) { io.disconnect(); io = null; }
    }
    renderTimeline(timelineData);

    /* ==== CHIPS & PUBLICATIONS ==== */
    const chips = ['Machine Learning', 'Deep Learning', 'Computer Vision', 'Music Information Retrieval', 'Structural Health Monitoring', 'Heritage Conservation', 'Augmented Reality'];
    const publications = [
      'Finite Element Analysis of Ancient Thousand Pillar Temple (EuroMed 2020, Springer)',
      'Survey on Heritage Structural Health Monitoring (EuroMed 2020, Springer)',
      'Concrete Crack Detection from Video Footage (EWSHM 2020)',
      'Building Digi-Encyclopedia of Indian Traditional Houses Using AR (ICETCI 2021)',
      'Voronoi Audio Similarity for Genre classification (IJISTA)'
    ];
    const chipsEl = document.getElementById('chips');
    chips.forEach(c => { const s = document.createElement('span'); s.className = 'chip'; s.textContent = c; chipsEl.appendChild(s); });
    const pubsEl = document.getElementById('pubs');
    publications.forEach(p => { const li = document.createElement('li'); li.innerHTML = `&rarr; ${p}`; pubsEl.appendChild(li); });


    /* ==== TIMELINE CONTROLS ==== */
    const toggleBtn = document.getElementById('toggleView');
    let horizontal = false;
    toggleBtn.addEventListener('click', () => {
      horizontal = !horizontal;
      if (horizontal) {
        timeline.classList.add('horizontal');
        makeAllVisible();
        timeline.scrollLeft = 0;
      } else {
        timeline.classList.remove('horizontal');
        document.querySelectorAll('.milestone').forEach(m => { m.classList.remove('visible'); });
        setTimeout(() => { initObserver(); }, 120);
      }
    });
    document.getElementById('downloadPNG').addEventListener('click', async () => {
      const timelineEl = document.querySelector('.wrap');
      if (window.html2canvas && timelineEl) {
        const canvas = await html2canvas(timelineEl, { backgroundColor: '#0a0e1a' });
        const url = canvas.toDataURL('image/png');
        const a = document.createElement('a');
        a.href = url;
        a.download = `prof-prafulla-journey.png`;
        a.click();
      } else {
        alert('Could not generate snapshot. Please try taking a screenshot manually.');
      }
    });


    /* ==== INTERACTIVE NEURAL NETWORK BACKGROUND ==== */
    const canvas = document.getElementById('neural-network');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particlesArray;
    const mouse = { x: null, y: null, radius: (canvas.height / 120) * (canvas.width / 120) };
    window.addEventListener('mousemove', event => { mouse.x = event.x; mouse.y = event.y; });
    window.addEventListener('mouseout', () => { mouse.x = null; mouse.y = null; });
    class Particle {
        constructor(x, y, directionX, directionY, size, color) { ther.x = x; ther.y = y; ther.directionX = directionX; ther.directionY = directionY; ther.size = size; ther.color = color; }
        draw() { ctx.beginPath(); ctx.arc(ther.x, ther.y, ther.size, 0, Math.PI * 2, false); ctx.fillStyle = 'rgba(0, 255, 255, 0.5)'; ctx.fill(); }
        update() { if (ther.x > canvas.width || ther.x < 0) { ther.directionX = -ther.directionX; } if (ther.y > canvas.height || ther.y < 0) { ther.directionY = -ther.directionY; } ther.x += ther.directionX; ther.y += ther.directionY; ther.draw(); }
    }
    function init() {
        particlesArray = [];
        let numberOfParticles = (canvas.height * canvas.width) / 9000;
        for (let i = 0; i < numberOfParticles; i++) {
            let size = (Math.random() * 2) + 1;
            let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
            let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
            let directionX = (Math.random() * 0.4) - 0.2;
            let directionY = (Math.random() * 0.4) - 0.2;
            particlesArray.push(new Particle(x, y, directionX, directionY, size, '#00ffff'));
        }
    }
    function animate() {
        requestAnimationFrame(animate);
        ctx.clearRect(0, 0, innerWidth, innerHeight);
        for (let i = 0; i < particlesArray.length; i++) { particlesArray[i].update(); }
        connect();
    }
    function connect() {
        let opacityValue = 1;
        for (let a = 0; a < particlesArray.length; a++) {
            for (let b = a; b < particlesArray.length; b++) {
                let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) + ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                if (distance < (canvas.width / 7) * (canvas.height / 7)) {
                    opacityValue = 1 - (distance / 20000);
                    ctx.strokeStyle = `rgba(0, 255, 255, ${opacityValue})`;
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                    ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                    ctx.stroke();
                }
            }
        }
    }
    window.addEventListener('resize', () => { canvas.width = innerWidth; canvas.height = innerHeight; mouse.radius = (canvas.height / 120) * (canvas.width / 120); init(); });
    init();
    animate();
  </script>

</body>
</html>